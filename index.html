<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deepa Store â€” Flash Sale</title>
  <meta name="description" content="Deepa Store - Flash Sale. Pesan cepat lewat WhatsApp!" />
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --muted:#9aa4b2;
      --accent1:#7c3aed;
      --accent2:#06b6d4;
      --glass: rgba(255,255,255,0.04);
      --radius:14px;
      --shadow: 0 6px 18px rgba(2,6,23,0.6);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: linear-gradient(180deg, #071025 0%, #071028 60%);
      color: #e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:24px;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      gap:24px;
      min-height:100vh;
    }

    .container{
      width:100%;
      max-width:1100px;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:18px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }

    .logo{
      width:56px;height:56px;border-radius:12px;
      background: linear-gradient(135deg,var(--accent1),var(--accent2));
      display:flex;align-items:center;justify-content:center;
      box-shadow: var(--shadow);
      font-weight:700;
      font-size:18px;
    }

    nav a{
      color:var(--muted);
      text-decoration:none;
      margin-left:14px;
      font-weight:600;
    }

    .hero{
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:20px;
      align-items:start;
    }

    @media (max-width:900px){
      .hero{ grid-template-columns: 1fr; }
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: var(--radius);
      padding:18px;
      box-shadow: var(--shadow);
    }

    .flash {
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:space-between;
    }

    .flash-left{
      flex:1;
    }

    .badge {
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding:8px 12px;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(124,58,237,0.15), rgba(6,182,212,0.12));
      color: #dfe9ff;
      font-weight:700;
      font-size:14px;
    }

    .countdown{
      margin-top:14px;
      display:flex;
      gap:10px;
      align-items:center;
    }

    .timebox{
      min-width:64px;
      padding:12px;
      border-radius:10px;
      background:var(--card);
      text-align:center;
      box-shadow: inset 0 -3px 8px rgba(0,0,0,0.4);
    }
    .timebox .num{ font-size:20px; font-weight:800; letter-spacing:0.6px; display:block; }
    .timebox .lbl{ font-size:11px; color:var(--muted); margin-top:6px; display:block; }

    .flash-right{
      width:320px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .progress{
      height:10px;
      background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius:999px;
      overflow:hidden;
    }
    .progress > i{
      display:block;height:100%;width:0%;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
    }

    .products{
      margin-top:18px;
      display:grid;
      grid-template-columns: repeat(3,1fr);
      gap:14px;
    }
    @media (max-width:900px){
      .products{ grid-template-columns: repeat(2,1fr); }
    }
    @media (max-width:520px){
      .products{ grid-template-columns: 1fr; }
    }

    .product{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;padding:12px;
      display:flex;flex-direction:column;gap:8px;
      align-items:stretch;
    }
    .product img{ width:100%; border-radius:8px; object-fit:cover; height:150px; background:#0a1220 }
    .product h4{ margin:0; font-size:15px }
    .price{ font-weight:800; font-size:16px }
    .meta{ color:var(--muted); font-size:13px }

    .actions{ display:flex; gap:8px; margin-top:8px; }
    .btn{
      flex:1;
      padding:10px 12px;
      border-radius:10px;
      text-align:center;
      text-decoration:none;
      font-weight:700;
      cursor:pointer;
      border:0;
    }
    .btn-buy{
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:white;
      box-shadow: 0 8px 20px rgba(124,58,237,0.18);
    }
    .btn-wish{
      background:var(--glass);
      color:var(--muted);
      font-weight:600;
    }

    footer{
      margin-top:20px;
      color:var(--muted);
      text-align:center;
      font-size:13px;
    }

    /* small helper */
    .muted{ color:var(--muted); font-size:13px }
    .center{ display:flex; align-items:center; justify-content:center }
    .sold{ font-weight:700; color:#ffdede }
  </style>
</head>
<body>
  <main class="container" role="main">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">DS</div>
        <div>
          <div style="font-weight:800;font-size:18px;">DEEPA STORE</div>
          <div class="muted" style="margin-top:4px;">Diskon kilat & kirim cepat</div>
        </div>
      </div>

      <nav aria-label="Navigasi">
        <a href="#flash">Flash Sale</a>
        <a href="#products">Produk</a>
        <a href="#contact">Kontak</a>
      </nav>
    </header>

    <section class="hero">
      <!-- left: informasi flash sale -->
      <section class="card flash" id="flash" aria-labelledby="flash-title">
        <div class="flash-left">
          <div class="badge">ðŸ”¥ FLASH SALE â€” Hingga 70% OFF</div>
          <h2 id="flash-title" style="margin-top:12px;font-size:22px">Terbatas â€” Hanya beberapa jam lagi</h2>
          <p class="muted" style="margin-top:8px">Stok terbatas. Checkout cepat lewat WhatsApp.</p>

          <div class="countdown" aria-live="polite" style="margin-top:12px">
            <div class="timebox" aria-hidden="false"><span id="days" class="num">00</span><span class="lbl">Hari</span></div>
            <div class="timebox"><span id="hours" class="num">00</span><span class="lbl">Jam</span></div>
            <div class="timebox"><span id="minutes" class="num">00</span><span class="lbl">Menit</span></div>
            <div class="timebox"><span id="seconds" class="num">00</span><span class="lbl">Detik</span></div>
          </div>

          <div style="margin-top:14px" class="muted">Sisa barang: <span id="stock" class="sold">128</span></div>

          <div style="margin-top:16px" class="products" aria-hidden="true">
            <!-- small preview thumbnails -->
            <div style="display:flex;gap:8px">
              <div style="width:56px;height:56px;border-radius:8px;background:#07122a"></div>
              <div style="width:56px;height:56px;border-radius:8px;background:#0a1a2f"></div>
              <div style="width:56px;height:56px;border-radius:8px;background:#072033"></div>
            </div>
          </div>
        </div>

        <!-- right: progress & CTA -->
        <aside class="flash-right">
          <div style="font-size:13px;color:var(--muted)">Progress terjual</div>
          <div class="progress" aria-hidden="true">
            <i id="progressBar"></i>
          </div>
          <div class="muted" style="font-size:13px">Ayo cepat sebelum stok habis</div>

          <div style="margin-top:auto;">
            <a id="orderNowMain" class="btn btn-buy" href="#" role="button" aria-label="Order sekarang via WhatsApp">Order Sekarang via WhatsApp</a>
          </div>
        </aside>
      </section>

      <!-- right: highlight product -->
      <aside class="card" style="display:flex;flex-direction:column;gap:12px;align-items:stretch">
        <div style="display:flex;gap:10px;align-items:center">
          <div style="width:72px;height:72px;border-radius:10px;background:#071228;display:flex;align-items:center;justify-content:center">
            <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=400&auto=format&fit=crop" alt="Produk unggulan" style="width:64px;height:64px;object-fit:cover;border-radius:8px" />
          </div>
          <div>
            <div style="font-weight:800">Headphone Wireless X100</div>
            <div class="muted">Suara jernih â€¢ ANC â€¢ Garansi 1 tahun</div>
          </div>
        </div>

        <div style="display:flex;gap:10px;align-items:center;justify-content:space-between">
          <div>
            <div class="price">Rp 299.000 <span class="muted" style="font-weight:600;font-size:13px;text-decoration:line-through;margin-left:8px">Rp 899.000</span></div>
            <div class="muted">Diskon 66% â€¢ Hanya tersisa 12</div>
          </div>
          <div style="display:flex;flex-direction:column;gap:8px;width:40%">
            <a class="btn btn-buy" href="#" id="buyFeatured">Beli via WhatsApp</a>
            <button class="btn btn-wish" aria-pressed="false" id="saveFeatured">Simpan</button>
          </div>
        </div>

        <div class="muted" style="font-size:13px">Gratis ongkir untuk wilayah tertentu. Pembayaran COD tersedia.</div>
      </aside>
    </section>

    <!-- product grid -->
    <section class="card" id="products" style="margin-top:20px">
      <h3 style="margin-bottom:10px">Produk Pilihan</h3>
      <div class="products" role="list">
        <!-- product 1 -->
        <article class="product" role="listitem" data-name="Headphone Wireless X100" data-price="299000">
          <img src="https://images.unsplash.com/photo-1518444020261-7a1f8f4516f8?q=80&w=800&auto=format&fit=crop" alt="Headphone Wireless">
          <h4>Headphone Wireless X100</h4>
          <div class="meta">Suara jernih â€¢ ANC</div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="price">Rp 299.000</div>
            <div class="meta">Sisa 12</div>
          </div>
          <div class="actions">
            <a class="btn btn-buy btn-order" href="#" role="button">Order via WhatsApp</a>
            <button class="btn btn-wish">Wishlist</button>
          </div>
        </article>

        <!-- product 2 -->
        <article class="product" role="listitem" data-name="Speaker Portabel S20" data-price="179000">
          <img src="https://images.unsplash.com/photo-1512446733611-9099a758e8f2?q=80&w=800&auto=format&fit=crop" alt="Speaker portabel">
          <h4>Speaker Portabel S20</h4>
          <div class="meta">Bass kuat â€¢ Tahan air IPX5</div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="price">Rp 179.000</div>
            <div class="meta">Sisa 30</div>
          </div>
          <div class="actions">
            <a class="btn btn-buy btn-order" href="#">Order via WhatsApp</a>
            <button class="btn btn-wish">Wishlist</button>
          </div>
        </article>

        <!-- product 3 -->
        <article class="product" role="listitem" data-name="Smartwatch A7" data-price="349000">
          <img src="https://images.unsplash.com/photo-1519744792095-2f2205e87b6f?q=80&w=800&auto=format&fit=crop" alt="Smartwatch">
          <h4>Smartwatch A7</h4>
          <div class="meta">Layar AMOLED â€¢ Sleep tracking</div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="price">Rp 349.000</div>
            <div class="meta">Sisa 8</div>
          </div>
          <div class="actions">
            <a class="btn btn-buy btn-order" href="#">Order via WhatsApp</a>
            <button class="btn btn-wish">Wishlist</button>
          </div>
        </article>
      </div>
    </section>

    <footer id="contact" class="muted">
      Â© <span id="year"></span> Deepa Store â€” Untuk pemesanan cepat gunakan tombol WhatsApp di produk.
    </footer>
  </main>

  <script>
    // ====== KONFIGURASI (ganti sesuai kebutuhan) ======
    // nomor WhatsApp (format internasional tanpa +), contoh 62812...
    const WA_PHONE = "6281234567890";
    // pesan pra-isi untuk tombol utama
    const MAIN_MESSAGE = encodeURIComponent("Halo, saya mau order dari Flash Sale DEEPA STORE. Mohon bantuannya.");
    // target waktu flash sale (format yang dapat diparsing oleh Date)
    // Ganti tanggal ini sesuai flash sale Anda. Saat ini: 15 Agustus 2025 23:59:59
    const TARGET = new Date("2025-08-15T23:59:59");
    // stok awal (untuk simulasi)
    let stock = 128;
    // progress sold (0..100)
    let soldPercent = 22; // misal 22% sudah terjual

    // ====== UTIL & INISIALISASI ======
    document.getElementById('year').textContent = new Date().getFullYear();

    // set href tombol utama
    const orderNowMain = document.getElementById("orderNowMain");
    orderNowMain.href = `https://wa.me/${WA_PHONE}?text=${MAIN_MESSAGE}`;
    orderNowMain.target = "_blank";
    orderNowMain.rel = "noopener noreferrer";

    // featured buy
    document.getElementById('buyFeatured').addEventListener('click', e=>{
      e.preventDefault();
      const message = encodeURIComponent("Halo, saya mau beli Headphone Wireless X100 (Flash Sale). Tolong bantu.");
      window.open(`https://wa.me/${WA_PHONE}?text=${message}`,'_blank','noopener');
    });

    // order buttons per product
    const orderButtons = document.querySelectorAll('.btn-order');
    orderButtons.forEach(btn=>{
      btn.addEventListener('click', function(e){
        e.preventDefault();
        // cari product name dari parent article
        const art = this.closest('article');
        const name = art?.dataset?.name || "Produk";
        const price = art?.dataset?.price ? ("Rp " + Number(art.dataset.price).toLocaleString('id-ID')) : "";
        const msg = encodeURIComponent(`Halo, saya mau order: ${name} ${price}. Mohon info ketersediaan dan cara pembayaran.`);
        window.open(`https://wa.me/${WA_PHONE}?text=${msg}`,'_blank','noopener');
      });
    });

    // ====== COUNTDOWN LOGIC ======
    function pad(n){ return n.toString().padStart(2,'0'); }

    function updateCountdown(){
      const now = new Date();
      const diff = TARGET - now; // ms
      if (diff <= 0){
        // flash sale selesai
        document.getElementById('days').textContent = "00";
        document.getElementById('hours').textContent = "00";
        document.getElementById('minutes').textContent = "00";
        document.getElementById('seconds').textContent = "00";
        // disable buy buttons
        document.querySelectorAll('.btn-buy').forEach(b=>{
          b.classList.add('btn-wish');
          b.classList.remove('btn-buy');
          b.textContent = "Flash Sale Selesai";
          b.setAttribute('aria-disabled','true');
          b.href = "#";
        });
        clearInterval(timerInterval);
        return;
      }
      // hitung digit-by-digit (teliti)
      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / (24*3600));
      const hours = Math.floor((totalSeconds % (24*3600)) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      document.getElementById('days').textContent = pad(days);
      document.getElementById('hours').textContent = pad(hours);
      document.getElementById('minutes').textContent = pad(minutes);
      document.getElementById('seconds').textContent = pad(seconds);
    }

    const timerInterval = setInterval(updateCountdown, 1000);
    updateCountdown();

    // ====== PROGRESS & STOCK SIMULATION ======
    const progressBar = document.getElementById('progressBar');
    const stockEl = document.getElementById('stock');

    function updateProgressUI(){
      progressBar.style.width = soldPercent + "%";
      stockEl.textContent = Math.max(0, stock);
    }
    updateProgressUI();

    // Simulasi: setiap 7s akan terjual beberapa unit sampai habis (opsional)
    const simInterval = setInterval(()=>{
      if (stock <= 0) { clearInterval(simInterval); return; }
      const sell = Math.floor(Math.random()*3); // 0..2 unit
      if (sell>0){
        stock = Math.max(0, stock - sell);
        soldPercent = Math.min(100, soldPercent + Math.round((sell/150)*100));
        updateProgressUI();
      }
      // jika stock habis, ubah status tombol
      if (stock <= 0){
        document.querySelectorAll('.btn-buy').forEach(b=>{
          b.classList.remove('btn-buy'); b.classList.add('btn-wish');
          b.textContent = "Stok Habis"; b.setAttribute('aria-disabled','true');
        });
        clearInterval(simInterval);
      }
    }, 7000);

    // ====== ACCESSIBILITY: keyboard focus style (basic) ======
    document.addEventListener('keydown', function(e){
      if (e.key === 'Tab') document.body.classList.add('show-focus-outline');
    });

    // Optional: wishlist buttons toggle (non-persistent)
    document.querySelectorAll('.btn-wish').forEach(btn=>{
      btn.addEventListener('click', function(){
        const pressed = this.getAttribute('aria-pressed') === 'true';
        this.setAttribute('aria-pressed', String(!pressed));
        this.textContent = pressed ? "Wishlist" : "Tersimpan";
      });
    });
  </script>
</body>
</html>

